<!DOCTYPE HTML>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>Escape Room - Iniciar Sesión</title>

    <script src="https://cdn.tailwindcss.com"></script>

    <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

    <link rel="stylesheet" th:href="@{/css/main.css}"/>

    <style>
        body { font-family: 'Montserrat', sans-serif; }
    </style>
</head>

<body class="pt-12 flex flex-col items-center justify-center text-white p-4 min-h-screen relative overflow-x-hidden"
      style="
          background: linear-gradient(135deg, #2c0d5a 0%, #1a0b3d 30%, #0d1a4f 100%);
          background-attachment: fixed;
      ">

<div class="fixed inset-0 z-0 pointer-events-none"
     style=" background-image:
                radial-gradient(circle at 20% 50%, rgba(255, 235, 59, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(138, 43, 226, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 80%, rgba(30, 144, 255, 0.1) 0%, transparent 50%); ">
</div>


<header class="w-full fixed top-0 left-0 z-10 py-8" style="background-color: #1a1a3b;">
    <div class="container-fluid flex justify-between items-center px-4">
        <div>
            <a>
                <img class="logo-escape" style="width: 60px" alt="logo" th:src="@{/img/Logo.png}">
            </a>
        </div>
        <a class="text-4xl sm:text-5xl font-bold text-center text-yellow-300 tracking-wider"
           href="#"
           style="
               font-family: 'Rajdhani', sans-serif;
               text-shadow: 0 0 10px rgba(255, 235, 59, 0.3);
           ">
            ESCAPE ROOM
        </a>
        <div class="h-6 flex gap-2 items-center">
            <img th:src="@{/img/person (2).svg}" alt="Perfil" class="w-6 h-6 object-contain cursor-pointer hover:opacity-80 transition duration-200">
            <img th:src="@{/img/hamburger-button.svg}" alt="Menú" class="w-6 h-6 object-contain cursor-pointer hover:opacity-80 transition duration-200">
        </div>
    </div>
</header>

<main class="w-full max-w-md mt-20">
    <div class="p-8 rounded-2xl shadow-2xl bg-white/10 backdrop-blur-md border border-yellow-400/20">
        <h2 class="text-3xl title-font font-bold text-center text-yellow-300 mb-6">
            Iniciar Sesion
        </h2>

        <form th:action="@{/validar-login}" method="post" th:object="${datosLogin}" class="space-y-6">
            <div>
                <label for="email" class="block mb-2 text-sm font-medium text-yellow-100 flex items-center">Correo electronico
                </label>
                <input th:field="*{email}" type="email" id="email"
                       class="w-full px-4 py-3 rounded-xl bg-white/10 border border-yellow-200/30 text-white placeholder-yellow-200 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 transition duration-200"
                       placeholder="tunombre@correo.com" required>
            </div>

            <div>
                <label for="password" class="block mb-2 text-sm font-medium text-yellow-100 flex items-center">
                    Contrasenia
                </label>
                <input th:field="*{password}" type="password" id="password"
                       class="w-full px-4 py-3 rounded-xl bg-white/10 border border-yellow-200/30 text-white placeholder-yellow-200 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 transition duration-200"
                       placeholder="" required>
            </div>

            <button id="btn-login" type="submit"
                    class="w-full py-3 px-4 bg-yellow-400 text-purple-900 title-font font-semibold rounded-xl hover:bg-yellow-300 focus:ring-2 focus:ring-yellow-500/50 transition duration-200 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed"
                    disabled>
                Iniciar Sesion
            </button>

            <p th:if="${error != null}" class="bg-red-500/20 border border-red-400/30 text-red-300 text-sm p-3 rounded-xl mt-2 text-center">
                <i class="bi bi-exclamation-triangle me-1"></i> th:text="'Error: ' + ${error}"
            </p>
        </form>

        <div class="mt-6 text-center">
            <a th:href="@{/nuevo-usuario}" class="text-purple-300 hover:text-yellow-300 underline transition duration-200">No tenes cuenta? <span class="font-semibold">Registrate</span>
            </a>
        </div>
    </div>
</main>

<script type="module" th:src="@{/js/login.js}"></script>
</body>
</html>