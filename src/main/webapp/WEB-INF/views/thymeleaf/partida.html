<!DOCTYPE HTML>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Partida</title>

    <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/webjars/bootstrap/5.2.0/css/bootstrap.min.css}"/>
    <link rel="stylesheet" th:href="@{/css/partida.css}"/>
</head>

<body>
<header>
    <nav class="navbar navbar-expand-lg">
        <div class="container-fluid">
            <a class="navbar-brand" th:href="@{/inicio/}">
                <img class="logo-escape" th:src="@{/img/Logo.png}" alt="Logo Escape Room">
            </a>
        </div>
    </nav>
</header>

<main>
    <div class="contenedor-partida">
        <h1 class="titulo-sala" th:text="${salaElegida.nombre}"></h1>
        <h3 class="nombre-etapa mt-2" th:if="${etapa != null}" th:text="'Etapa: ' + ${etapa.nombre}"></h3>
        <p class="text-muted mt-2">Resuelve el siguiente acertijo para pasar a la próxima etapa</p>
        <p class="texto-etapa mt-5" th:if="${etapa != null}" th:text=" ${etapa.descripcion}"></p>

        <div class="texto-acertijo">
            <div class="acertijo-contenido">
                <div class="acertijo">
                    <p th:if="${acertijo != null}" th:text=" ${acertijo.descripcion}"></p>
                </div>

                <div class="candado">
                    <img th:src="@{'/img/' + ${etapa.imagen}}" alt="img-etapa" class="img-etapa">
                </div>
            </div>
        </div>


        <div class="d-flex justify-content-center align-items-center mb-4">

            <form th:action="@{/partida/validar/{idSala}/{numeroEtapa}/{idAcertijo}(
            idSala=${salaElegida.id},
            numeroEtapa=${etapa.numero},
            idAcertijo=${acertijo.id})}"
                  method="post">

                <div class="input-group rounded-pill w-150 overflow-hidden">
                    <input type="text" name="respuesta" class="form-control input-respuesta border-0" placeholder="Escriba su respuesta aquí">
                    <button type="submit" class="btn btn-enviar ">Enviar</button>
                </div>
            </form>

            <div th:if="${error != null}" th:text="${error}" class="text-danger"> </div>



            <button id="btnPista" class="btn btn-pista rounded-pill ms-4"
                    th:if="${acertijo != null}"
                    th:attr="data-acertijo=${acertijo.id}">
                Mostrar pista
            </button>


            <div id="pista" class="ms-2" ></div>

        </div>


    </div>
    <div class="boton-salir-container">
        <button class="boton-salir">Salir</button>
    </div>
</main>

<script th:src="@{/js/partida.js}"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.js"></script>
</body>
</html>
