<!DOCTYPE HTML>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>Escape Room - Registro</title>

    <script src="https://cdn.tailwindcss.com"></script>

    <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

    <link rel="stylesheet" th:href="@{/css/main.css}"/>

    <style>
        body { font-family: 'Montserrat', sans-serif; }
        .title-font { font-family: 'Rajdhani', sans-serif; }
    </style>
</head>

<body class="pt-12 flex flex-col items-center justify-center text-white p-4 min-h-screen relative overflow-x-hidden"
      style="
          background: linear-gradient(135deg, #2c0d5a 0%, #1a0b3d 30%, #0d1a4f 100%);
          background-attachment: fixed;
      ">

<div class="fixed inset-0 z-0 pointer-events-none"
     style=" background-image:
                radial-gradient(circle at 20% 50%, rgba(255, 235, 59, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(138, 43, 226, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 80%, rgba(30, 144, 255, 0.1) 0%, transparent 50%); ">
</div>


<header class="w-full fixed top-0 left-0 z-10 py-8"
        style="background-color: rgba(26, 26, 59, 0.49);
               border-bottom: 2px solid rgba(90, 27, 167, 0.69);">

    <div class="relative container-fluid flex items-center px-4">

        <!-- LOGO IZQUIERDA -->
        <a th:href="@{/home}" class="mr-auto">
            <img class="logo-escape" style="width: 60px" alt="logo"
                 th:src="@{/img/Logo.png}">
        </a>

        <!-- TÍTULO CENTRADO ABSOLUTO -->
        <h1 class="absolute left-1/2 transform -translate-x-1/2
                   text-5xl sm:text-7xl font-bold"
            style="font-family: 'Rajdhani', sans-serif;     color: #fafb63;">
            ESCAPE ROOM
        </h1>

    </div>
</header>

<main class="w-full max-w-2xl mt-20">  <div class="p-8 rounded-2xl shadow-2xl bg-white/10 backdrop-blur-md border border-yellow-400/20">
    <h2 class="text-3xl title-font font-bold text-center text-yellow-300 mb-6">
        Crear nueva cuenta
    </h2>

    <form th:action="@{/registrarme}" method="post" th:object="${usuario}" class="space-y-6" id="registroForm">
        <p th:if="${error != null}"  th:text="${error}" class="text-red-500 text-md p-1 text-center"></p>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
                <label for="nombre" class="block mb-2 text-sm font-medium text-yellow-100 flex items-center">
                    Nombre
                </label>
                <input th:field="*{nombre}" type="text" id="nombre"
                       class="w-full px-4 py-3 rounded-xl bg-white/10 border border-yellow-200/30 text-white placeholder-yellow-200 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 transition duration-200"
                       placeholder="Tu nombre" required>
            </div>

            <div>
                <label for="apellido" class="block mb-2 text-sm font-medium text-yellow-100 flex items-center">
                    Apellido
                </label>
                <input th:field="*{apellido}" type="text" id="apellido"
                       class="w-full px-4 py-3 rounded-xl bg-white/10 border border-yellow-200/30 text-white placeholder-yellow-200 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 transition duration-200"
                       placeholder="Tu apellido" required>
            </div>
        </div>

        <div>
            <label for="nombreUsuario" class="block mb-2 text-sm font-medium text-yellow-100 flex items-center">
                Nombre de usuario
            </label>
            <input th:field="*{nombreUsuario}" type="text" id="nombreUsuario"
                   class="w-full px-4 py-3 rounded-xl bg-white/10 border border-yellow-200/30 text-white placeholder-yellow-200 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 transition duration-200"
                   placeholder="Mínimo 4 caracteres" required minlength="4">
        </div>

        <div>
            <label for="email" class="block mb-2 text-sm font-medium text-yellow-100 flex items-center">
                Correo electrónico
            </label>
            <input th:field="*{email}" type="email" id="email"
                   class="w-full px-4 py-3 rounded-xl bg-white/10 border border-yellow-200/30 text-white placeholder-yellow-200 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 transition duration-200"
                   placeholder="ejemplo@correo.com" required>
        </div>
        <div>
            <p th:if="${errorPassword != null}"  th:text="${errorPassword}" class="text-red-500 text-md p-1 text-start"></p>

        </div>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">

            <div>
                <label for="password" class="block mb-2 text-sm font-medium text-yellow-100 flex items-center">
                    Contraseña
                </label>
                <input th:field="*{password}" type="password" id="password"
                       class="w-full px-4 py-3 rounded-xl bg-white/10 border border-yellow-200/30 text-white placeholder-yellow-200 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 transition duration-200"
                       placeholder="Mínimo 8 caracteres" required minlength="8">
            </div>

            <div>
                <label for="confirmPassword" class="block mb-2 text-sm font-medium text-yellow-100 flex items-center">
                    Confirmar contraseña
                </label>
                <input type="password" id="confirmPassword" name="confirmPassword"
                       class="w-full px-4 py-3 rounded-xl bg-white/10 border border-yellow-200/30 text-white placeholder-yellow-200 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 transition duration-200"
                       placeholder="Repite la contraseña" required>
            </div>
        </div>

        <div>
            <label for="fechaNacimiento" class="block mb-2 text-sm font-medium text-yellow-100 flex items-center">
                Fecha de nacimiento
            </label>
            <input th:field="*{fechaNacimiento}" type="date" id="fechaNacimiento"
                   class="w-full px-4 py-3 rounded-xl bg-white/10 border border-yellow-200/30 text-white placeholder-yellow-200 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 transition duration-200"
                   required max="[[${#temporals.formatDate(#temporals.createToday(), 'yyyy-MM-dd') }]]" min="1900-01-01">
        </div>

        <button id="btn-registrarme" type="submit"
                class="w-full py-3 px-4 bg-yellow-400 text-purple-900 title-font font-semibold rounded-xl hover:bg-yellow-300 focus:ring-2 focus:ring-yellow-500/50 transition duration-200 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed"
                disabled>
            Registrarme
        </button>
    </form>

    <div class="mt-6 text-center">
        <a th:href="@{/login}" class="text-purple-300 hover:text-yellow-300 underline transition duration-200">
            ¿Ya tenés cuenta? <span class="font-semibold">Iniciá Sesión</span>
        </a>
    </div>
</div>
</main>

<script th:src="@{/js/registro.js}"></script>

</body>
</html>